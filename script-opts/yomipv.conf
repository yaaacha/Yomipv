# Yomipv configuration options

# --- Anki settings ---

# AnkiConnect URL
ankiconnect_url=127.0.0.1:8765

# AnkiConnect API key
ankiconnect_api_key=

# Deck and Note type
deck=Senren
note_type=Senren

# Note fields
expression_field=word
reading_field=reading
pitch_accents_field=pitchAccents
pitch_position_field=pitchPositions
pitch_categories_field=pitchCategories
sentence_field=sentence
sentence_furigana_field=sentenceFurigana
secondary_sentence_field=sentenceTranslation
expression_audio_field=wordAudio
sentence_audio_field=sentenceAudio
selection-text_field=selectionText
definition_field=definition
glossary_field=glossary
image_field=picture
freq_sort_field=freqSort
freq_field=frequencies
miscinfo_field=miscInfo
dictionary_pref_field=dictionaryPreference

# Update card and append media if term exists (yes/no)
update_if_exists=yes
# Fields that are updated:
# sentence_field
# sentence_furigana_field
# secondary_sentence_field
# sentence_audio_field
# image_field
# miscinfo_field

# Refresh Anki browser after updating note (yes/no)
refresh_gui_after_update=yes

# --- Yomitan settings ---

yomitan_url=127.0.0.1:19633

# Field handlebars; leave empty to disable
# See docs/field_handlebars.md for more info
selection_text_handlebar=popup-selection-text
definition_handlebar=selected-dict
glossary_handlebar=glossary

# Highlighting tag
sentence_highlight_tag=<span class="highlight">

# HTML wrappers
primary_sentence_wrapper=<span class="group">%s</span>
secondary_sentence_wrapper=<span class="group">%s</span>
miscinfo_wrapper=<span class="group">%s</span>

# Preferred dictionary (Senren only)
dictionary_pref_value=
#dictionary_pref_value=Jitendex

# --- Media templates ---

audio_template=[sound:%s]
image_template=<img src="%s" class="yomipv-image">

# --- Misc info settings ---

# Format specifiers:
# {name}: Sanitized title (removes episodes and brackets)
# {season}: Season info
# {episode}: Episode info
# {timestamp}: Timestamp (HH:MM:SS)

# Bullet logic (miscinfo_episode_bullet):
# Adapts dynamically to {season} and {episode} presence
# If both {season} and {episode}: Bullet matches {season}, comma separator added
# If only {episode}: Bullet matches {episode}

# Formatting examples:
# {name}{season}{episode} • {timestamp} -> Show Name • シーズン 2, エピソード 6 • 00:03:34
# {name}{episode} • {timestamp}         -> Show Name • エピソード 6 • 00:03:34

miscinfo_episode_bullet=yes
miscinfo_show_season_one=no
miscinfo_show_ms=no
miscinfo_episode_label=エピソード
miscinfo_season_label=シーズン
miscinfo_format={name}{season}{episode} • {timestamp}

# --- Note tagging settings ---

note_tag=アニメ

# --- Picture settings ---

picture_use_ffmpeg=yes
# Capture timing: subtitle_start, current_position
picture_timestamp_source=subtitle_start
picture_animated=no

# Static screenshot settings
picture_static_format=avif
picture_static_quality=85
picture_static_width=1080
picture_static_offset=0.0

# Animated picture settings
animation_format=avif
animation_quality=50
animation_width=720
animation_fps=10
animation_duration=auto
animation_offset=0.0

# Advanced codec settings
picture_webp_lossless=no
picture_webp_compression=6
picture_avif_cpu_used=4

# --- Audio clip settings ---

audio_use_ffmpeg=yes
audio_format=opus
audio_bitrate=64k
filename_show_ms=yes

# --- Selector settings ---

# Behavior
selector_show_history=yes
selector_hide_ui=yes
selector_navigation_delay=0.05

# Lookup
selector_lookup_on_hover=no
selector_lookup_on_navigation=no

# Typography
selector_font_name=Hiragino Kaku Gothic ProN W6
selector_font_size=45
selector_line_height=1.25

# Appearance
selector_color=#FFFFFF
selector_selection_color=#56FF68
selector_border_color=#000000
selector_border_size=2
selector_shadow_color=#000000
selector_shadow_offset=0

# Layout
selector_pos_y=100
selector_max_width_factor=0.9

# Keybindings
key_open_selector=c
key_selector_confirm=ENTER,c
key_selector_cancel=ESC
key_selector_left=LEFT
key_selector_right=RIGHT
key_selector_up=UP
key_selector_down=DOWN
key_expand_prev=Shift+LEFT
key_expand_next=Shift+RIGHT
key_selector_lookup=Ctrl+c
key_append_mode=C
lookup_app_path=lookup-app

# --- History settings ---

history_show_secondary=yes
history_hide_volume=yes
history_max_entries=200

# Size
history_width=220
history_max_height=400

# Typography
history_font_size=15
history_secondary_font_size=12

# Appearance
history_accent_color=#3db54a
history_background_color=#111111
history_background_opacity=22

# Keybindings
key_toggle_history=a

# --- Subtitle settings ---

subtitle_filter_enabled=yes

# Secondary subtitles
secondary_sid=yes
secondary_on_hover=yes
